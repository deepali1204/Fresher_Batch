{"ast":null,"code":"var _jsxFileName = \"C:\\\\Flight\\\\front-end-Login\\\\src\\\\components\\\\book.component.js\";\nimport React, { Component } from \"react\";\nimport FlightsService from \"../services/flight.service\";\nimport BookService from \"../services/book.service\";\nimport AuthService from \"../services/auth.service\";\nimport \"../book.css\";\nexport default class Book extends Component {\n  constructor(props) {\n    super(props);\n    this.getFlight = this.getFlight.bind(this);\n    this.bookFlight = this.bookFlight.bind(this);\n    this.onchangeQuantity = this.onchangeQuantity.bind(this);\n    this.state = {\n      currentUser: AuthService.getCurrentUser(),\n      currentFlight: {\n        id: null,\n        flight_name: \"\",\n        from: \"\",\n        to: \"\",\n        date: \"\",\n        departuretime: \"\",\n        arrivaltime: \"\",\n        fare: \"\"\n      },\n      quantity: \"1\"\n    };\n  }\n\n  onchangeQuantity(e) {\n    this.setState({\n      quantity: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getFlight(this.props.match.params.id);\n    console.log(this.state.currentUser);\n    console.log(this.getFlight);\n  }\n\n  bookFlight(e) {\n    e.preventDefault();\n    console.log(\"inside bookflight\");\n    var currentFlight = {\n      flight_name: this.state.currentFlight.flight_name,\n      from: this.state.currentFlight.from,\n      to: this.state.currentFlight.to,\n      date: this.state.currentFlight.date,\n      departuretime: this.state.currentFlight.departuretime,\n      arrivaltime: this.state.currentFlight.arrivaltime,\n      fare: this.state.currentFlight.fare\n    };\n    console.log(currentFlight);\n    BookService.BookFlight(this.state.currentUser, currentFlight, this.state.quantity).then(response => {\n      console.log(\"inside booking\");\n      console.log(response);\n    }).catch(e => {\n      console.log(\"inside error\");\n      console.log(e);\n    });\n  }\n\n  getFlight(id) {\n    FlightsService.get(id).then(response => {\n      this.setState({\n        currentFlight: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    // const { flight } = this.state;\n    const {\n      currentFlight,\n      currentUser,\n      bookingdata\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }, currentFlight && currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        marginLeft: \"380px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, \"Review Your Booking\"), /*#__PURE__*/React.createElement(\"form\", {\n      class: \"form-style\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"From\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        float: \"left\"\n      },\n      type: \"text\",\n      className: \"linecontrol\",\n      value: currentFlight.from,\n      onChange: this.onChangeFrom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }\n    }, \"To\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        marginLeft: \"10px\",\n        float: \"left\"\n      },\n      type: \"text\",\n      className: \"linecontrol\",\n      value: currentFlight.to,\n      onChange: this.onChangeTo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, \"Flight Name\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        float: \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      value: currentFlight.flight_name,\n      onChange: this.onChangeFlightName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Date:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        marginLeft: \"10px\",\n        float: \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.date,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }, \"Departure Time:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        marginLeft: \"10px\",\n        float: \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.departuretime,\n      onChange: this.onChangeDepartureTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 21\n      }\n    }, \"Arrival Time:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        marginLeft: \"10px\",\n        float: \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.arrivaltime,\n      onChange: this.onChangeArrivalTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, \"Fare:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        marginLeft: \"10px\",\n        float: \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.fare,\n      onChange: this.onChangeFare,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        marginLeft: \"73px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 19\n      }\n    }, \"Traveller Details\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: currentUser.username,\n      onChange: this.onChangeUsername,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: currentUser.lastname,\n      onChange: this.onChangeTo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 21\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: currentUser.gender,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: this.state.quantity,\n      onChange: this.onchangeQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.bookFlight(e);\n      },\n      id: \"button\",\n      className: \"btn btn-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, \"Continue\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 15\n      }\n    }, \"Please Login First to continue..\"), /*#__PURE__*/React.createElement(\"a\", {\n      id: \"loginlink\",\n      href: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 15\n      }\n    }, \"Sign In\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Flight/front-end-Login/src/components/book.component.js"],"names":["React","Component","FlightsService","BookService","AuthService","Book","constructor","props","getFlight","bind","bookFlight","onchangeQuantity","state","currentUser","getCurrentUser","currentFlight","id","flight_name","from","to","date","departuretime","arrivaltime","fare","quantity","e","setState","target","value","componentDidMount","match","params","console","log","preventDefault","BookFlight","then","response","catch","get","data","render","bookingdata","marginLeft","float","onChangeFrom","onChangeTo","onChangeFlightName","onChangeDate","onChangeDepartureTime","onChangeArrivalTime","onChangeFare","username","onChangeUsername","lastname","gender"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport FlightsService from \"../services/flight.service\";\r\nimport BookService from \"../services/book.service\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport \"../book.css\";\r\n\r\n\r\nexport default class Book extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getFlight = this.getFlight.bind(this);\r\n    this.bookFlight = this.bookFlight.bind(this);\r\n    this.onchangeQuantity = this.onchangeQuantity.bind(this);\r\n\r\n    this.state = {\r\n      currentUser: AuthService.getCurrentUser(),\r\n      currentFlight: {\r\n        id: null,\r\n        flight_name: \"\",\r\n        from: \"\",\r\n        to: \"\",\r\n        date: \"\",\r\n        departuretime: \"\",\r\n        arrivaltime: \"\",\r\n        fare: \"\",\r\n      },\r\n      quantity: \"1\",\r\n    };\r\n  }\r\n\r\n  onchangeQuantity(e) {\r\n    this.setState({\r\n      quantity: e.target.value,\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getFlight(this.props.match.params.id);\r\n    console.log(this.state.currentUser);\r\n    console.log(this.getFlight);\r\n  }\r\n\r\n  bookFlight(e) {\r\n    e.preventDefault();\r\n    console.log(\"inside bookflight\");\r\n    var currentFlight = {\r\n      flight_name: this.state.currentFlight.flight_name,\r\n      from: this.state.currentFlight.from,\r\n      to: this.state.currentFlight.to,\r\n      date: this.state.currentFlight.date,\r\n      departuretime: this.state.currentFlight.departuretime,\r\n      arrivaltime: this.state.currentFlight.arrivaltime,\r\n      fare: this.state.currentFlight.fare,\r\n    };\r\n    console.log(currentFlight);\r\n    BookService.BookFlight(\r\n      this.state.currentUser,\r\n      currentFlight,\r\n      this.state.quantity\r\n    )\r\n      .then((response) => {\r\n        console.log(\"inside booking\");\r\n        console.log(response);\r\n      })\r\n      .catch((e) => {\r\n        console.log(\"inside error\");\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  getFlight(id) {\r\n    FlightsService.get(id)\r\n      .then((response) => {\r\n        this.setState({\r\n          currentFlight: response.data,\r\n        });\r\n        console.log(response.data);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    // const { flight } = this.state;\r\n    const { currentFlight, currentUser, bookingdata } = this.state;\r\n\r\n    return (\r\n      <div class=\"container\">\r\n        \r\n       \r\n          {currentFlight && currentUser ? (\r\n\r\n            <div className=\"editform\">\r\n              <h4 style={{ marginLeft: \"380px\" }}>Review Your Booking</h4>\r\n              <form class=\"form-style\">\r\n\r\n               \r\n\r\n                <span id=\"label\" className=\"form-group\">\r\n                  <label>\r\n                    <strong>From</strong>\r\n                  </label>\r\n                  <input\r\n                    style={{ float: \"left\" }}\r\n                    type=\"text\"\r\n                    className=\"linecontrol\"\r\n                    value={currentFlight.from}\r\n                    onChange={this.onChangeFrom}\r\n                  />\r\n                </span>\r\n\r\n\r\n                \r\n\r\n\r\n                <span id=\"label\" className=\"form-group\">\r\n                  <label>\r\n                    <strong>To</strong>\r\n                  </label>\r\n                  <input\r\n                    style={{ marginLeft: \"10px\", float: \"left\" }}\r\n                    type=\"text\"\r\n                    className=\"linecontrol\"\r\n                    value={currentFlight.to}\r\n                    onChange={this.onChangeTo}\r\n                  />\r\n                </span>\r\n\r\n                <span id=\"label\" className=\"form-group\">\r\n                  <label>\r\n                    <strong>Flight Name</strong>\r\n                  </label>\r\n                  <input\r\n                    style={{ float: \"left\" }}\r\n                    type=\"text\"\r\n                    className=\"control\"\r\n                    value={currentFlight.flight_name}\r\n                    onChange={this.onChangeFlightName}\r\n                  />\r\n                </span>\r\n\r\n                <span id=\"label\" className=\"form-group\">\r\n                  <label htmlFor=\"description\">\r\n                    <strong>Date:</strong>\r\n                  </label>\r\n                  <input\r\n                    style={{ marginLeft: \"10px\", float: \"left\" }}\r\n                    type=\"text\"\r\n                    className=\"control\"\r\n                    id=\"description\"\r\n                    value={currentFlight.date}\r\n                    onChange={this.onChangeDate}\r\n                  />\r\n                </span>\r\n\r\n                <span id=\"label\" className=\"form-group\">\r\n                  <label htmlFor=\"description\">\r\n                    <strong>Departure Time:</strong>\r\n                  </label>\r\n                  <input\r\n                    style={{ marginLeft: \"10px\", float: \"left\" }}\r\n                    type=\"text\"\r\n                    className=\"control\"\r\n                    id=\"description\"\r\n                    value={currentFlight.departuretime}\r\n                    onChange={this.onChangeDepartureTime}\r\n                  />\r\n                </span>\r\n\r\n                <span id=\"label\" className=\"form-group\">\r\n                  <label htmlFor=\"description\">\r\n                    <strong>Arrival Time:</strong>\r\n                  </label>\r\n                  <input\r\n                    style={{ marginLeft: \"10px\", float: \"left\" }}\r\n                    type=\"text\"\r\n                    className=\"control\"\r\n                    id=\"description\"\r\n                    value={currentFlight.arrivaltime}\r\n                    onChange={this.onChangeArrivalTime}\r\n                  />\r\n                </span>\r\n                <span id=\"label\" className=\"form-group\">\r\n                  <label htmlFor=\"description\">\r\n                    <strong>Fare:</strong>\r\n                  </label>\r\n                  <input\r\n                    style={{ marginLeft: \"10px\", float: \"left\" }}\r\n                    type=\"text\"\r\n                    className=\"control\"\r\n                    id=\"description\"\r\n                    value={currentFlight.fare}\r\n                    onChange={this.onChangeFare}\r\n                  />\r\n                </span>\r\n\r\n                <div className=\"\">\r\n                  <h4 style={{ marginLeft: \"73px\" }}>Traveller Details</h4>\r\n\r\n                  <span id=\"\" className=\"form-group\">\r\n                    <label>First Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"control\"\r\n                      value={currentUser.username}\r\n                      onChange={this.onChangeUsername}\r\n                    />\r\n                  </span>\r\n\r\n                  <span id=\"\" className=\"form-group\">\r\n                    <label>Last Name</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"control\"\r\n                      value={currentUser.lastname}\r\n                      onChange={this.onChangeTo}\r\n                    />\r\n                  </span>\r\n\r\n                  <span id=\"\" className=\"form-group\">\r\n                    <label>Gender</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"control\"\r\n                      value={currentUser.gender}\r\n                      onChange={this.onChangeDate}\r\n                    />\r\n                  </span>\r\n\r\n                  <span id=\"\" className=\"form-group\">\r\n                    <label>Quantity</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"control\"\r\n                      value={this.state.quantity}\r\n                      onChange={this.onchangeQuantity}\r\n                    />\r\n                  </span>\r\n                  <div className=\"col text-center\">\r\n                    <button\r\n                      onClick={(e) => {\r\n                        this.bookFlight(e);\r\n                      }}\r\n                      id=\"button\"\r\n                      className=\"btn btn-default\"\r\n                    >\r\n                      Continue\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <br />\r\n              <p>Please Login First to continue..</p>\r\n              <a id=\"loginlink\" href=\"/login\">\r\n                Sign In\r\n              </a>\r\n            </div>\r\n          )}\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}