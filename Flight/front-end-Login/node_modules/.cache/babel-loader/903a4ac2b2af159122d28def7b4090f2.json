{"ast":null,"code":"var _jsxFileName = \"C:\\\\Flight\\\\front-end-Login\\\\src\\\\components\\\\book.component.js\";\nimport React, { Component } from \"react\";\nimport FlightsService from \"../services/flight.service\";\nimport BookService from \"../services/book.service\";\nimport AuthService from \"../services/auth.service\";\nimport \"../book.css\";\nexport default class Book extends Component {\n  constructor(props) {\n    super(props);\n    this.getFlight = this.getFlight.bind(this);\n    this.bookFlight = this.bookFlight.bind(this);\n    this.onchangeQuantity = this.onchangeQuantity.bind(this);\n    this.state = {\n      currentUser: AuthService.getCurrentUser(),\n      currentFlight: {\n        id: null,\n        flight_name: \"\",\n        from: \"\",\n        to: \"\",\n        date: \"\",\n        departuretime: \"\",\n        arrivaltime: \"\",\n        fare: \"\"\n      },\n      quantity: '1'\n    };\n  }\n\n  onchangeQuantity(e) {\n    this.setState({\n      quantity: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    this.getFlight(this.props.match.params.id);\n    console.log(this.state.currentUser);\n    console.log(this.getFlight);\n  }\n\n  bookFlight(e) {\n    e.preventDefault();\n    console.log(\"inside bookflight\");\n    var currentFlight = {\n      flight_name: this.state.currentFlight.flight_name,\n      from: this.state.currentFlight.from,\n      to: this.state.currentFlight.to,\n      date: this.state.currentFlight.date,\n      departuretime: this.state.currentFlight.departuretime,\n      arrivaltime: this.state.currentFlight.arrivaltime,\n      fare: this.state.currentFlight.fare\n    };\n    console.log(currentFlight);\n    BookService.BookFlight(this.state.currentUser, currentFlight, this.state.quantity).then(response => {\n      console.log(\"inside booking\");\n      console.log(response.data);\n    }).catch(e => {\n      console.log(\"inside error\");\n      console.log(e);\n    });\n  }\n\n  getFlight(id) {\n    FlightsService.get(id).then(response => {\n      this.setState({\n        currentFlight: response.data\n      });\n      console.log(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  render() {\n    // const { flight } = this.state;\n    const {\n      currentFlight,\n      currentUser,\n      bookingdata\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 3\n      }\n    }, currentUser.lastname, currentFlight.flight_name, currentFlight.from, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"reviewform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 2\n      }\n    }, currentFlight && currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"editform\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        \"marginLeft\": \"280px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, \"Review Your Booking\"), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"formstyle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 20\n      }\n    }, \"Flight Name:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        \"float\": \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      value: currentFlight.flight_name,\n      onChange: this.onChangeFlightName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 20\n      }\n    }, \"From:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        \"float\": \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      value: currentFlight.from,\n      onChange: this.onChangeFrom,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 20\n      }\n    }, \"To:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        \"marginLeft\": \"10px\",\n        \"float\": \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      value: currentFlight.to,\n      onChange: this.onChangeTo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 42\n      }\n    }, \"Date:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        \"marginLeft\": \"10px\",\n        \"float\": \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.date,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 42\n      }\n    }, \"Departure Time:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        \"marginLeft\": \"10px\",\n        \"float\": \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.departuretime,\n      onChange: this.onChangeDepartureTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 42\n      }\n    }, \"Arrival Time:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        \"marginLeft\": \"10px\",\n        \"float\": \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.arrivaltime,\n      onChange: this.onChangeArrivalTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"label\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 42\n      }\n    }, \"Fare:\")), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        \"marginLeft\": \"10px\",\n        \"float\": \"left\"\n      },\n      type: \"text\",\n      className: \"control\",\n      id: \"description\",\n      value: currentFlight.fare,\n      onChange: this.onChangeFare,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        \"marginLeft\": \"73px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }\n    }, \"Traveller Details\"), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: currentUser.username,\n      onChange: this.onChangeUsername,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: currentUser.lastname,\n      onChange: this.onChangeTo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    }, \"Gender\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: currentUser.gender,\n      onChange: this.onChangeDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"\",\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, \"Quantity\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"control\",\n      value: this.state.quantity,\n      onChange: this.onchangeQuantity,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: e => {\n        this.bookFlight(e);\n      },\n      id: \"button\",\n      className: \"btn btn-default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, \"Continue\"))))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, \"Please Login First to continue..\"), /*#__PURE__*/React.createElement(\"a\", {\n      id: \"loginlink\",\n      href: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, \"Sign In\"))));\n  }\n\n}","map":{"version":3,"sources":["C:/Flight/front-end-Login/src/components/book.component.js"],"names":["React","Component","FlightsService","BookService","AuthService","Book","constructor","props","getFlight","bind","bookFlight","onchangeQuantity","state","currentUser","getCurrentUser","currentFlight","id","flight_name","from","to","date","departuretime","arrivaltime","fare","quantity","e","setState","target","value","componentDidMount","match","params","console","log","preventDefault","BookFlight","then","response","data","catch","get","render","bookingdata","lastname","onChangeFlightName","onChangeFrom","onChangeTo","onChangeDate","onChangeDepartureTime","onChangeArrivalTime","onChangeFare","username","onChangeUsername","gender"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport FlightsService from \"../services/flight.service\";\r\nimport BookService from \"../services/book.service\";\r\nimport AuthService from \"../services/auth.service\";\r\nimport \"../book.css\";\r\n\r\nexport default class Book extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n     this.getFlight = this.getFlight.bind(this);\r\n     this.bookFlight=this.bookFlight.bind(this);\r\n     this.onchangeQuantity=this.onchangeQuantity.bind(this);\r\n\r\n     this.state = {\r\n        currentUser:AuthService.getCurrentUser(),\r\n        currentFlight: {\r\n          id:null,\r\n          flight_name: \"\",\r\n          from: \"\",\r\n          to:\"\",\r\n          date:\"\",\r\n          departuretime:\"\",\r\n          arrivaltime:\"\",\r\n          fare:\"\"\r\n      },\r\n        quantity:'1',\r\n        \r\n  }\r\n}\r\n\r\nonchangeQuantity(e) {\r\n  this.setState({\r\n    quantity: e.target.value\r\n  });\r\n}\r\n\r\n  componentDidMount() {\r\n   \r\n    this.getFlight(this.props.match.params.id)\r\n    console.log(this.state.currentUser)\r\n    console.log(this.getFlight);\r\n  }\r\n\r\n   bookFlight(e){\r\n    e.preventDefault();\r\n     console.log(\"inside bookflight\")\r\n     var currentFlight={\r\n       flight_name:this.state.currentFlight.flight_name,\r\n       from:this.state.currentFlight.from,\r\n       to:this.state.currentFlight.to,\r\n       date:this.state.currentFlight.date,\r\n       departuretime:this.state.currentFlight.departuretime,\r\n       arrivaltime:this.state.currentFlight.arrivaltime,\r\n       fare:this.state.currentFlight.fare\r\n     }\r\n     console.log(currentFlight);\r\n     BookService.BookFlight(this.state.currentUser,currentFlight,this.state.quantity)\r\n     .then(response=>{\r\n       console.log(\"inside booking\");\r\n       console.log(response.data)\r\n     })\r\n     .catch(e=>{\r\n       console.log(\"inside error\")\r\n       console.log(e);\r\n     });\r\n   }\r\n\r\n  getFlight(id) {\r\n    FlightsService.get(id)\r\n      .then(response => {\r\n        this.setState({\r\n          currentFlight: response.data\r\n        });\r\n        console.log(response.data);\r\n        \r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n      \r\n  }\r\n\r\n  render() {\r\n    // const { flight } = this.state;\r\n        const { currentFlight,currentUser,bookingdata } = this.state;\r\n\r\nreturn (\r\n  \r\n  <div>\r\n    {currentUser.lastname}\r\n    {currentFlight.flight_name}\r\n    {currentFlight.from}\r\n <div className=\"reviewform\">\r\n    {currentFlight && currentUser ? (\r\n      <div className=\"editform\">\r\n        <h4 style={{\"marginLeft\":\"280px\"}}>Review Your Booking</h4>\r\n        <form id=\"formstyle\">\r\n\r\n        <span id=\"label\" className=\"form-group\" >\r\n            <label><strong>Flight Name:</strong></label>\r\n            <input\r\n              style={{\"float\":\"left\"}}\r\n              type=\"text\"\r\n              className=\"control\"\r\n              value={currentFlight.flight_name}\r\n              onChange={this.onChangeFlightName}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"label\" className=\"form-group\" >\r\n            <label><strong>From:</strong></label>\r\n            <input\r\n              style={{\"float\":\"left\"}}\r\n              type=\"text\"\r\n              className=\"control\"\r\n              value={currentFlight.from}\r\n              onChange={this.onChangeFrom}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"label\" className=\"form-group\" >\r\n            <label><strong>To:</strong></label>\r\n            <input\r\n              style={{\"marginLeft\":\"10px\",\"float\":\"left\"}}\r\n              type=\"text\"\r\n              className=\"control\"\r\n              value={currentFlight.to}\r\n              onChange={this.onChangeTo}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"label\" className=\"form-group\" >\r\n            <label htmlFor=\"description\"><strong>Date:</strong></label>\r\n            <input\r\n              style={{\"marginLeft\":\"10px\",\"float\":\"left\"}}\r\n              type=\"text\"\r\n              className=\"control\"\r\n              id=\"description\"\r\n              value={currentFlight.date}\r\n              onChange={this.onChangeDate}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"label\" className=\"form-group\">\r\n            <label htmlFor=\"description\"><strong>Departure Time:</strong></label>\r\n            <input\r\n              style={{\"marginLeft\":\"10px\",\"float\":\"left\"}}\r\n              type=\"text\"\r\n              className=\"control\"\r\n              id=\"description\"\r\n              value={currentFlight.departuretime}\r\n              onChange={this.onChangeDepartureTime}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"label\" className=\"form-group\">\r\n            <label htmlFor=\"description\"><strong>Arrival Time:</strong></label>\r\n            <input\r\n              style={{\"marginLeft\":\"10px\",\"float\":\"left\"}}\r\n              type=\"text\"\r\n              className=\"control\"\r\n              id=\"description\"\r\n              value={currentFlight.arrivaltime}\r\n              onChange={this.onChangeArrivalTime}\r\n            />\r\n          </span>\r\n          <span id=\"label\" className=\"form-group\">\r\n            <label htmlFor=\"description\"><strong>Fare:</strong></label>\r\n            <input\r\n              style={{\"marginLeft\":\"10px\",\"float\":\"left\"}}\r\n              type=\"text\"\r\n              className=\"control\"\r\n              id=\"description\"\r\n              value={currentFlight.fare}\r\n              onChange={this.onChangeFare}\r\n            />\r\n          </span>\r\n\r\n          <div className=\"\">\r\n          <h4 style={{\"marginLeft\":\"73px\"}}>Traveller Details</h4>\r\n        \r\n          <span id=\"\" className=\"form-group\" >\r\n            <label>First Name</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"control\"\r\n              value={currentUser.username}\r\n              onChange={this.onChangeUsername}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"\" className=\"form-group\" >\r\n            <label>Last Name</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"control\"\r\n              value={currentUser.lastname}\r\n              onChange={this.onChangeTo}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"\" className=\"form-group\" >\r\n            <label>Gender</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"control\"\r\n              value={currentUser.gender}\r\n              onChange={this.onChangeDate}\r\n            />\r\n          </span>\r\n\r\n          <span id=\"\" className=\"form-group\" >\r\n            <label>Quantity</label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"control\"\r\n              value={this.state.quantity}\r\n              onChange={this.onchangeQuantity}\r\n            />\r\n          </span>\r\n          <div className=\"col text-center\">\r\n            <button onClick={(e)=>{this.bookFlight(e)}} id=\"button\" className=\"btn btn-default\">Continue</button>\r\n          </div>\r\n        </div>\r\n        </form>\r\n      </div>\r\n        ) : (\r\n          <div>\r\n            <br />\r\n            <p>Please Login First to continue..</p>\r\n            <a id=\"loginlink\" href='/login'>Sign In</a>\r\n          </div>\r\n        )}\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}